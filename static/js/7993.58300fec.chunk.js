(self.webpackChunkcrypto_currency_app=self.webpackChunkcrypto_currency_app||[]).push([[7993],{97993:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>T});var s=i(65043),r=i(73216),o=i(4239),l=i.n(o),n=i(44999),a=i.n(n),h=i(52061),d=i.n(h),p=i(43665),c=i.n(p),u=i(23929),m=i(80043),g=i(65960),b=i(61194),v=i(51833),f=i(45482),x=i(70579);"object"===typeof l()&&(d()(l()),c()(l()));const y="Market Cap",w="Volume 24h",T=()=>{const e=(0,s.useContext)(m.A),t=(0,s.useContext)(u.A),{cryptocurrencies:i}=(0,r.LG)(),[o,n]=(0,s.useState)(20),[h,d]=(0,s.useState)(y),p=(0,s.useRef)(null),c={title:!1,tooltip:{followPointer:!0,useHTML:!0,backgroundColor:"#FFF",borderColor:"black",borderRadius:10,border:0,shadow:!1,formatter:function(){const e=this.point.changePercent24Hr>0?'<span class="text-white bg-green-500 font-medium rounded-md text-xs text-center inline-flex items-center ml-3" style="padding: 2px 5px;"><img class="fill-white w-3 h-3" src="'+v.A+'" alt="Caret up icon" />'+(0,g.eB)(this.point.changePercent24Hr,2)+"%</span>":'<span class="text-white bg-red-500 font-medium rounded-md text-xs text-center inline-flex items-center ml-3" style="padding: 2px 5px;"><img class="fill-white w-3 h-3" src="'+b.A+'" alt="Caret down icon" />'+(0,g.eB)(this.point.changePercent24Hr,2)+"%</span>";return'\n            <div class="flex flex-col px-3 py-2 space-y-2">\n              <h2 class="flex items-center font-bold text-base leading-none text-slate-700">\n                '.concat(this.point.name,'\n                <span class="ml-2 text-xs font-medium bg-slate-400/10 rounded-md text-neutral-800" style="padding: 2px 5px;">').concat(this.point.symbol,'</span>\n              </h2>\n              <div class="text-sm text-slate-500">\n                <span>Price:</span>\n                <span class="text-black font-semibold">').concat(this.point.price," ").concat(e,'</span>\n              </div>\n              <div class="text-sm text-slate-500">\n                <span>Market cap:</span>\n                <span class="text-black font-semibold">').concat(this.point.marketCap,'</span>\n              </div>\n              <div class="text-sm text-slate-500">\n                <span>Volume:</span>\n                <span class="text-black font-semibold">').concat(this.point.volume,"</span>\n              </div>\n\n            </div>\n        ")}},chart:{backgroundColor:"transparent",height:550,margin:0},series:[{type:"treemap",allowDrillToNode:!0,layoutAlgorithm:"squarified",dataLabels:{style:{textOutline:"none"}},data:i.slice(0,o).map(((e,i)=>{let s;return h===y?s=Number(e.marketCapUsd):h===w&&(s=Number(e.volumeUsd24Hr)),{id:i,name:e.name,value:s,color:e.changePercent24Hr>0?"#8DBE84":"#B94A45",price:(0,g.$g)(e.priceUsd,t.currentCurrency,t.currentCurrencyRate),marketCap:(0,g.$g)(e.marketCapUsd,t.currentCurrency,t.currentCurrencyRate),volume:(0,g.$g)(e.volumeUsd24Hr,t.currentCurrency,t.currentCurrencyRate),symbol:e.symbol,changePercent24Hr:e.changePercent24Hr}})),levels:[{level:1,borderWidth:3,borderColor:e.isDarkmode?"rgb(15 23 42 / 100%)":"#FFFFFF"}]}],navigation:{buttonOptions:{enabled:!1}},plotOptions:{series:{animation:!1}}};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"flex justify-between my-5",children:[(0,x.jsxs)("div",{className:"flex space-x-2",children:[(0,x.jsx)(f.A,{value:"Crypto: ".concat(o),options:[100,50,20],onChange:e=>{n(e)},classes:"text-xs"}),(0,x.jsx)(f.A,{value:"By: ".concat(h),options:[y,w],onChange:e=>{d(e)},classes:"text-xs"})]}),(0,x.jsxs)("button",{onClick:()=>{var e;const t=null===(e=p.current)||void 0===e?void 0:e.chart;t&&t.fullscreen.toggle()},className:"flex items-center px-3 py-2 space-x-2 bg-slate-400/10 hover:bg-slate-400/20 rounded-md text-neutral-800 dark:text-neutral-300",children:[(0,x.jsx)("svg",{viewBox:"0 0 14 14",className:"w-3 h-3 text-neutral-500",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,x.jsx)("path",{d:"M1 4.62V1.666h2.917m6.166 0H13v2.952m0 4.762v2.952h-2.917m-6.166 0H1V9.381",stroke:"#A6B0C3",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,x.jsx)("span",{className:"text-xs font-medium",children:"Fullscreen"})]})]}),(0,x.jsx)(a(),{highcharts:l(),options:c,ref:p})]})}},52061:(e,t,i)=>{var s,r,o;o=function(e){"use strict";var t=e?e._modules:{};function i(e,t,i,s){e.hasOwnProperty(t)||(e[t]=s.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}i(t,"Extensions/Breadcrumbs/BreadcrumbsDefaults.js",[],(function(){return{lang:{mainBreadcrumb:"Main"},options:{buttonTheme:{fill:"none",height:18,padding:2,"stroke-width":0,zIndex:7,states:{select:{fill:"none"}},style:{color:"#334eff"}},buttonSpacing:5,floating:!1,format:void 0,relativeTo:"plotBox",rtl:!1,position:{align:"left",verticalAlign:"top",x:0,y:void 0},separator:{text:"/",style:{color:"#666666",fontSize:"0.8em"}},showFullPath:!0,style:{},useHTML:!1,zIndex:7}}})),i(t,"Extensions/Breadcrumbs/Breadcrumbs.js",[t["Extensions/Breadcrumbs/BreadcrumbsDefaults.js"],t["Core/Templating.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(e,t,i,s){let{format:r}=t,{composed:o}=i,{addEvent:l,defined:n,extend:a,fireEvent:h,isString:d,merge:p,objectEach:c,pick:u,pushUnique:m}=s;function g(){if(this.breadcrumbs){let e=this.resetZoomButton&&this.resetZoomButton.getBBox(),t=this.breadcrumbs.options;e&&"right"===t.position.align&&"plotBox"===t.relativeTo&&this.breadcrumbs.alignBreadcrumbsGroup(-e.width-t.buttonSpacing)}}function b(){this.breadcrumbs&&(this.breadcrumbs.destroy(),this.breadcrumbs=void 0)}function v(){let e=this.breadcrumbs;if(e&&!e.options.floating&&e.level){let t=e.options,i=t.buttonTheme,s=(i.height||0)+2*(i.padding||0)+t.buttonSpacing,r=t.position.verticalAlign;"bottom"===r?(this.marginBottom=(this.marginBottom||0)+s,e.yOffset=s):"middle"!==r?(this.plotTop+=s,e.yOffset=-s):e.yOffset=void 0}}function f(){this.breadcrumbs&&this.breadcrumbs.redraw()}function x(e){!0===e.resetSelection&&this.breadcrumbs&&this.breadcrumbs.alignBreadcrumbsGroup()}class y{static compose(t,i){m(o,"Breadcrumbs")&&(l(t,"destroy",b),l(t,"afterShowResetZoom",g),l(t,"getMargins",v),l(t,"redraw",f),l(t,"selection",x),a(i.lang,e.lang))}constructor(e,t){this.elementList={},this.isDirty=!0,this.level=0,this.list=[];let i=p(e.options.drilldown&&e.options.drilldown.drillUpButton,y.defaultOptions,e.options.navigation&&e.options.navigation.breadcrumbs,t);this.chart=e,this.options=i||{}}updateProperties(e){this.setList(e),this.setLevel(),this.isDirty=!0}setList(e){this.list=e}setLevel(){this.level=this.list.length&&this.list.length-1}getLevel(){return this.level}getButtonText(e){let t=this.chart,i=this.options,s=t.options.lang,o=u(i.format,i.showFullPath?"{level.name}":"\u2190 {level.name}"),l=s&&u(s.drillUpText,s.mainBreadcrumb),a=i.formatter&&i.formatter(e)||r(o,{level:e.levelOptions},t)||"";return(d(a)&&!a.length||"\u2190 "===a)&&n(l)&&(a=i.showFullPath?l:"\u2190 "+l),a}redraw(){this.isDirty&&this.render(),this.group&&this.group.align(),this.isDirty=!1}render(){let e=this.chart,t=this.options;!this.group&&t&&(this.group=e.renderer.g("breadcrumbs-group").addClass("highcharts-no-tooltip highcharts-breadcrumbs").attr({zIndex:t.zIndex}).add()),t.showFullPath?this.renderFullPathButtons():this.renderSingleButton(),this.alignBreadcrumbsGroup()}renderFullPathButtons(){this.destroySingleButton(),this.resetElementListState(),this.updateListElements(),this.destroyListElements()}renderSingleButton(){let e=this.chart,t=this.list,i=this.options.buttonSpacing;this.destroyListElements();let s=this.group?this.group.getBBox().width:i,r=t[t.length-2];!e.drillUpButton&&this.level>0?e.drillUpButton=this.renderButton(r,s,i):e.drillUpButton&&(this.level>0?this.updateSingleButton():this.destroySingleButton())}alignBreadcrumbsGroup(e){if(this.group){let t=this.options,i=t.buttonTheme,s=t.position,r="chart"===t.relativeTo||"spacingBox"===t.relativeTo?void 0:"plotBox",o=this.group.getBBox(),l=2*(i.padding||0)+t.buttonSpacing;s.width=o.width+l,s.height=o.height+l;let n=p(s);e&&(n.x+=e),this.options.rtl&&(n.x+=s.width),n.y=u(n.y,this.yOffset,0),this.group.align(n,!0,r)}}renderButton(e,t,i){let s=this,r=this.chart,o=s.options,l=p(o.buttonTheme),n=r.renderer.button(s.getButtonText(e),t,i,(function(t){let i,r=o.events&&o.events.click;r&&(i=r.call(s,t,e)),!1!==i&&(o.showFullPath?t.newLevel=e.level:t.newLevel=s.level-1,h(s,"up",t))}),l).addClass("highcharts-breadcrumbs-button").add(s.group);return r.styledMode||n.attr(o.style),n}renderSeparator(e,t){let i=this.chart,s=this.options.separator,r=i.renderer.label(s.text,e,t,void 0,void 0,void 0,!1).addClass("highcharts-breadcrumbs-separator").add(this.group);return i.styledMode||r.css(s.style),r}update(e){p(!0,this.options,e),this.destroy(),this.isDirty=!0}updateSingleButton(){let e=this.chart,t=this.list[this.level-1];e.drillUpButton&&e.drillUpButton.attr({text:this.getButtonText(t)})}destroy(){this.destroySingleButton(),this.destroyListElements(!0),this.group&&this.group.destroy(),this.group=void 0}destroyListElements(e){let t=this.elementList;c(t,((i,s)=>{(e||!t[s].updated)&&((i=t[s]).button&&i.button.destroy(),i.separator&&i.separator.destroy(),delete i.button,delete i.separator,delete t[s])})),e&&(this.elementList={})}destroySingleButton(){this.chart.drillUpButton&&(this.chart.drillUpButton.destroy(),this.chart.drillUpButton=void 0)}resetElementListState(){c(this.elementList,(e=>{e.updated=!1}))}updateListElements(){let e,t,i=this.elementList,s=this.options.buttonSpacing,r=this.list,o=this.options.rtl,l=o?-1:1,n=function(e,t){return l*e.getBBox().width+l*t},a=function(e,t,i){e.translate(t-e.getBBox().width,i)},h=this.group?n(this.group,s):s;for(let d=0,p=r.length;d<p;++d){let c,u,m=d===p-1;i[(t=r[d]).level]?(c=(e=i[t.level]).button,e.separator||m?e.separator&&m&&(e.separator.destroy(),delete e.separator):(h+=l*s,e.separator=this.renderSeparator(h,s),o&&a(e.separator,h,s),h+=n(e.separator,s)),i[t.level].updated=!0):(c=this.renderButton(t,h,s),o&&a(c,h,s),h+=n(c,s),m||(u=this.renderSeparator(h,s),o&&a(u,h,s),h+=n(u,s)),i[t.level]={button:c,separator:u,updated:!0}),c&&c.setState(m?2:0)}}}return y.defaultOptions=e.options,y})),i(t,"Series/ColorMapComposition.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t){var i;let{column:{prototype:s}}=e.seriesTypes,{addEvent:r,defined:o}=t;return function(e){function t(e){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:e&&"hover"===e.state?1:0})}e.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&this.value!==1/0&&this.value!==-1/0&&(void 0===this.value||!isNaN(this.value))}},e.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(e){let t={};return o(e.color)&&(!e.state||"normal"===e.state)&&(t[this.colorProp||"fill"]=e.color),t},pointAttribs:s.pointAttribs},e.compose=function(e){return r(e.prototype.pointClass,"afterSetState",t),e}}(i||(i={})),i})),i(t,"Series/Treemap/TreemapAlgorithmGroup.js",[],(function(){return class{constructor(e,t,i,s){this.height=e,this.width=t,this.plot=s,this.direction=i,this.startDirection=i,this.total=0,this.nW=0,this.lW=0,this.nH=0,this.lH=0,this.elArr=[],this.lP={total:0,lH:0,nH:0,lW:0,nW:0,nR:0,lR:0,aspectRatio:function(e,t){return Math.max(e/t,t/e)}}}addElement(e){this.lP.total=this.elArr[this.elArr.length-1],this.total=this.total+e,0===this.direction?(this.lW=this.nW,this.lP.lH=this.lP.total/this.lW,this.lP.lR=this.lP.aspectRatio(this.lW,this.lP.lH),this.nW=this.total/this.height,this.lP.nH=this.lP.total/this.nW,this.lP.nR=this.lP.aspectRatio(this.nW,this.lP.nH)):(this.lH=this.nH,this.lP.lW=this.lP.total/this.lH,this.lP.lR=this.lP.aspectRatio(this.lP.lW,this.lH),this.nH=this.total/this.width,this.lP.nW=this.lP.total/this.nH,this.lP.nR=this.lP.aspectRatio(this.lP.nW,this.nH)),this.elArr.push(e)}reset(){this.nW=0,this.lW=0,this.elArr=[],this.total=0}}})),i(t,"Series/Treemap/TreemapNode.js",[],(function(){return class{constructor(){this.childrenTotal=0,this.visible=!1}init(e,t,i,s,r,o,l){return this.id=e,this.i=t,this.children=i,this.height=s,this.level=r,this.series=o,this.parent=l,this}}})),i(t,"Series/DrawPointUtilities.js",[],(function(){return{draw:function(e,t){let{animatableAttribs:i,onComplete:s,css:r,renderer:o}=t,l=e.series&&e.series.chart.hasRendered?void 0:e.series&&e.series.options.animation,n=e.graphic;if(t.attribs={...t.attribs,class:e.getClassName()},e.shouldDraw())n||(n="text"===t.shapeType?o.text():"image"===t.shapeType?o.image(t.imageUrl||"").attr(t.shapeArgs||{}):o[t.shapeType](t.shapeArgs||{}),e.graphic=n,n.add(t.group)),r&&n.css(r),n.attr(t.attribs).animate(i,!t.isNew&&l,s);else if(n){let t=()=>{e.graphic=n=n&&n.destroy(),"function"==typeof s&&s()};Object.keys(i).length?n.animate(i,void 0,(()=>t())):t()}}}})),i(t,"Series/Treemap/TreemapPoint.js",[t["Series/DrawPointUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t,i){let{pie:{prototype:{pointClass:s}},scatter:{prototype:{pointClass:r}}}=t.seriesTypes,{extend:o,isNumber:l,pick:n}=i;class a extends r{constructor(){super(...arguments),this.shapeType="rect"}draw(t){e.draw(this,t)}getClassName(){let e=this.series,t=e.options,i=super.getClassName();return this.node.level<=e.nodeMap[e.rootNode].level?i+=" highcharts-above-level":this.node.isLeaf||n(t.interactByLeaf,!t.allowTraversingTree)?this.node.isLeaf||(i+=" highcharts-internal-node"):i+=" highcharts-internal-node-interactive",i}isValid(){return!(!this.id&&!l(this.value))}setState(e){super.setState.apply(this,arguments),this.graphic&&this.graphic.attr({zIndex:"hover"===e?1:0})}shouldDraw(){return l(this.plotY)&&null!==this.y}}return o(a.prototype,{setVisible:s.prototype.setVisible}),a})),i(t,"Series/Treemap/TreemapSeriesDefaults.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t){let{isString:i}=t;return{allowTraversingTree:!1,animationLimit:250,borderRadius:0,showInLegend:!1,marker:void 0,colorByPoint:!1,dataLabels:{defer:!1,enabled:!0,formatter:function(){let e=this&&this.point?this.point:{};return i(e.name)?e.name:""},inside:!0,verticalAlign:"middle"},tooltip:{headerFormat:"",pointFormat:"<b>{point.name}</b>: {point.value}<br/>"},ignoreHiddenPoint:!0,layoutAlgorithm:"sliceAndDice",layoutStartingDirection:"vertical",alternateStartingDirection:!1,levelIsConstant:!0,traverseUpButton:{position:{align:"right",x:-10,y:10}},borderColor:"#e6e6e6",borderWidth:1,colorKey:"colorValue",opacity:.15,states:{hover:{borderColor:"#999999",brightness:e.seriesTypes.heatmap?0:.1,halo:!1,opacity:.75,shadow:!1}},legendSymbol:"rectangle"}})),i(t,"Series/Treemap/TreemapUtilities.js",[],(function(){var e;return(e||(e={})).recursive=function e(t,i,s){let r=i.call(s||this,t);!1!==r&&e(r,i,s)},e})),i(t,"Series/TreeUtilities.js",[t["Core/Color/Color.js"],t["Core/Utilities.js"]],(function(e,t){let{extend:i,isArray:s,isNumber:r,isObject:o,merge:l,pick:n,relativeLength:a}=t;return{getColor:function(t,i){let s,r,o,l,a,h,d=i.index,p=i.mapOptionsToLevel,c=i.parentColor,u=i.parentColorIndex,m=i.series,g=i.colors,b=i.siblings,v=m.points,f=m.chart.options.chart;return t&&(s=v[t.i],r=p[t.level]||{},s&&r.colorByPoint&&(l=s.index%(g?g.length:f.colorCount),o=g&&g[l]),m.chart.styledMode||(a=n(s&&s.options.color,r&&r.color,o,c&&(t=>{let i=r&&r.colorVariation;return i&&"brightness"===i.key&&d&&b?e.parse(t).brighten(i.to*(d/b)).get():t})(c),m.color)),h=n(s&&s.options.colorIndex,r&&r.colorIndex,l,u,i.colorIndex)),{color:a,colorIndex:h}},getLevelOptions:function(e){let t,i,a,h,d,p,c={};if(o(e))for(h=r(e.from)?e.from:1,p=e.levels,i={},t=o(e.defaults)?e.defaults:{},s(p)&&(i=p.reduce(((e,i)=>{let s,a,d;return o(i)&&r(i.level)&&(a=n((d=l({},i)).levelIsConstant,t.levelIsConstant),delete d.levelIsConstant,delete d.level,o(e[s=i.level+(a?0:h-1)])?l(!0,e[s],d):e[s]=d),e}),{})),d=r(e.to)?e.to:1,a=0;a<=d;a++)c[a]=l({},t,o(i[a])?i[a]:{});return c},getNodeWidth:function(e,t){let{chart:i,options:s}=e,{nodeDistance:r=0,nodeWidth:o=0}=s,{plotSizeX:l=1}=i;if("auto"===o){if("string"==typeof r&&/%$/.test(r))return l/(t+parseFloat(r)/100*(t-1));let e=Number(r);return(l+e)/(t||1)-e}return a(o,l)},setTreeValues:function e(t,s){let r=s.before,o=s.idRoot,l=s.mapIdToNode[o],a=!1!==s.levelIsConstant,h=s.points[t.i],d=h&&h.options||{},p=[],c=0;t.levelDynamic=t.level-(a?0:l.level),t.name=n(h&&h.name,""),t.visible=o===t.id||!0===s.visible,"function"==typeof r&&(t=r(t,s)),t.children.forEach(((r,o)=>{let l=i({},s);i(l,{index:o,siblings:t.children.length,visible:t.visible}),r=e(r,l),p.push(r),r.visible&&(c+=r.val)}));let u=n(d.value,c);return t.visible=u>=0&&(c>0||t.visible),t.children=p,t.childrenTotal=c,t.isLeaf=t.visible&&!c,t.val=u,t},updateRootId:function(e){let t,i;return o(e)&&(i=o(e.options)?e.options:{},t=n(e.rootNode,i.rootId,""),o(e.userOptions)&&(e.userOptions.rootId=t),e.rootNode=t),t}}})),i(t,"Series/Treemap/TreemapSeries.js",[t["Extensions/Breadcrumbs/Breadcrumbs.js"],t["Core/Color/Color.js"],t["Series/ColorMapComposition.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Treemap/TreemapAlgorithmGroup.js"],t["Series/Treemap/TreemapNode.js"],t["Series/Treemap/TreemapPoint.js"],t["Series/Treemap/TreemapSeriesDefaults.js"],t["Series/Treemap/TreemapUtilities.js"],t["Series/TreeUtilities.js"],t["Core/Utilities.js"]],(function(e,t,i,s,r,o,l,n,a,h,d,p){let{parse:c}=t,{composed:u,noop:m}=s,{column:g,scatter:b}=r.seriesTypes,{getColor:v,getLevelOptions:f,updateRootId:x}=d,{addEvent:y,correctFloat:w,defined:T,error:C,extend:B,fireEvent:S,isArray:L,isObject:A,isString:P,merge:j,pick:O,pushUnique:N,stableSort:R}=p,M=!1;function D(){let e,t=this.xAxis,i=this.yAxis;t&&i&&(this.is("treemap")?(e={endOnTick:!1,gridLineWidth:0,lineWidth:0,min:0,minPadding:0,max:100,maxPadding:0,startOnTick:!1,title:void 0,tickPositions:[]},B(i.options,e),B(t.options,e),M=!0):M&&(i.setOptions(i.userOptions),t.setOptions(t.userOptions),M=!1))}class U extends b{static compose(e){N(u,"TreemapSeries")&&y(e,"afterBindAxes",D)}algorithmCalcPoints(e,t,i,s){let r,o,l,n,a,h=i.plot,d=i.elArr.length-1,p=i.lW,c=i.lH,u=0;for(let m of(t?(p=i.nW,c=i.nH):a=i.elArr[d],i.elArr))(t||u<d)&&(0===i.direction?(r=h.x,o=h.y,n=m/(l=p)):(r=h.x,o=h.y,l=m/(n=c)),s.push({x:r,y:o,width:l,height:w(n)}),0===i.direction?h.y=h.y+n:h.x=h.x+l),u+=1;i.reset(),0===i.direction?i.width=i.width-p:i.height=i.height-c,h.y=h.parent.y+(h.parent.height-i.height),h.x=h.parent.x+(h.parent.width-i.width),e&&(i.direction=1-i.direction),t||i.addElement(a)}algorithmFill(e,t,i){let s,r,o,l,n,a=[],h=t.direction,d=t.x,p=t.y,c=t.width,u=t.height;for(let m of i)s=t.width*t.height*(m.val/t.val),r=d,o=p,0===h?(c-=l=s/(n=u),d+=l):(u-=n=s/(l=c),p+=n),a.push({x:r,y:o,width:l,height:n}),e&&(h=1-h);return a}algorithmLowAspectRatio(e,t,i){let s,r=[],l={x:t.x,y:t.y,parent:t},n=t.direction,a=i.length-1,h=new o(t.height,t.width,n,l),d=0;for(let o of i)s=t.width*t.height*(o.val/t.val),h.addElement(s),h.lP.nR>h.lP.lR&&this.algorithmCalcPoints(e,!1,h,r,l),d===a&&this.algorithmCalcPoints(e,!0,h,r,l),++d;return r}alignDataLabel(e,t,i){let s=i.style;s&&!T(s.textOverflow)&&t.text&&t.getBBox().width>(t.text.textWidth||0)&&t.css({textOverflow:"ellipsis",width:s.width+="px"}),g.prototype.alignDataLabel.apply(this,arguments),e.dataLabel&&e.dataLabel.attr({zIndex:(e.node.zIndex||0)+1})}calculateChildrenAreas(e,t){let i=this.options,s=this.mapOptionsToLevel[e.level+1],r=O(this[s&&s.layoutAlgorithm]&&s.layoutAlgorithm,i.layoutAlgorithm),o=i.alternateStartingDirection,l=e.children.filter((e=>!e.ignore)),n=[];s&&s.layoutStartingDirection&&(t.direction="vertical"===s.layoutStartingDirection?0:1),n=this[r](t,l);let a=-1;for(let h of l){let e=n[++a];h.values=j(e,{val:h.childrenTotal,direction:o?1-t.direction:t.direction}),h.pointValues=j(e,{x:e.x/this.axisRatio,y:100-e.y-e.height,width:e.width/this.axisRatio}),h.children.length&&this.calculateChildrenAreas(h,h.values)}}createList(e){let t=this.chart,i=[];if(t.breadcrumbs){let s=0;i.push({level:s,levelOptions:t.series[0]});let r=e.target.nodeMap[e.newRootId],o=[];for(;r.parent||""===r.parent;)o.push(r),r=e.target.nodeMap[r.parent];for(let e of o.reverse())i.push({level:++s,levelOptions:e});i.length<=1&&(i.length=0)}return i}drawDataLabels(){let e,t,i=this.mapOptionsToLevel;for(let s of this.points.filter((function(e){return e.node.visible})))t=i[s.node.level],e={style:{}},s.node.isLeaf||(e.enabled=!1),t&&t.dataLabels&&(e=j(e,t.dataLabels),this.hasDataLabels=()=>!0),s.shapeArgs&&(e.style.width=s.shapeArgs.width,s.dataLabel&&s.dataLabel.css({width:s.shapeArgs.width+"px"})),s.dlOptions=j(e,s.options.dataLabels);super.drawDataLabels()}drawPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.points,t=this.chart,i=t.renderer,s=t.styledMode,r=this.options,o=s?{}:r.shadow,l=r.borderRadius,n=t.pointCount<r.animationLimit,a=r.allowTraversingTree;for(let h of e){let e=h.node.levelDynamic,t={},d={},p={},c="level-group-"+h.node.level,u=!!h.graphic,m=n&&u,g=h.shapeArgs;h.shouldDraw()&&(h.isInside=!0,l&&(d.r=l),j(!0,m?t:d,u?g:{},s?{}:this.pointAttribs(h,h.selected?"select":void 0)),this.colorAttribs&&s&&B(p,this.colorAttribs(h)),this[c]||(this[c]=i.g(c).attr({zIndex:1e3-(e||0)}).add(this.group),this[c].survive=!0)),h.draw({animatableAttribs:t,attribs:d,css:p,group:this[c],imageUrl:h.imageUrl,renderer:i,shadow:o,shapeArgs:g,shapeType:h.shapeType}),a&&h.graphic&&(h.drillId=r.interactByLeaf?this.drillToByLeaf(h):this.drillToByGroup(h))}}drillToByGroup(e){let t=!1;return e.node.isLeaf||e.node.level-this.nodeMap[this.rootNode].level!=1||(t=e.id),t}drillToByLeaf(e){let t,i=!1;if(e.node.parent!==this.rootNode&&e.node.isLeaf)for(t=e.node;!i;)(t=this.nodeMap[t.parent]).parent===this.rootNode&&(i=t.id);return i}drillToNode(e,t){C(32,!1,void 0,{"treemap.drillToNode":"use treemap.setRootNode"}),this.setRootNode(e,t)}drillUp(){let e=this.nodeMap[this.rootNode];e&&P(e.parent)&&this.setRootNode(e.parent,!0,{trigger:"traverseUpButton"})}getExtremes(){let{dataMin:e,dataMax:t}=super.getExtremes(this.colorValueData);return this.valueMin=e,this.valueMax=t,super.getExtremes()}getListOfParents(e,t){let i=L(e)?e:[],s=L(t)?t:[],r=i.reduce((function(e,t,i){let s=O(t.parent,"");return void 0===e[s]&&(e[s]=[]),e[s].push(i),e}),{"":[]});for(let o of Object.keys(r)){let e=r[o];if(""!==o&&-1===s.indexOf(o)){for(let t of e)r[""].push(t);delete r[o]}}return r}getTree(){let e=this.data.map((function(e){return e.id})),t=this.getListOfParents(this.data,e);return this.nodeMap={},this.nodeList=[],this.buildTree("",-1,0,t)}buildTree(e,t,i,s,r){let o,l=[],n=this.points[t],a=0;for(let d of s[e]||[])a=Math.max((o=this.buildTree(this.points[d].id,d,i+1,s,e)).height+1,a),l.push(o);let h=(new this.NodeClass).init(e,t,l,a,i,this,r);for(let d of l)d.parentNode=h;return this.nodeMap[h.id]=h,this.nodeList.push(h),n&&(n.node=h,h.point=n),h}hasData(){return!!this.processedXData.length}init(t,i){let s=this,r=j(i.drillUpButton,i.breadcrumbs),o=y(s,"setOptions",(e=>{let t=e.userOptions;T(t.allowDrillToNode)&&!T(t.allowTraversingTree)&&(t.allowTraversingTree=t.allowDrillToNode,delete t.allowDrillToNode),T(t.drillUpButton)&&!T(t.traverseUpButton)&&(t.traverseUpButton=t.drillUpButton,delete t.drillUpButton)}));super.init(t,i),delete s.opacity,s.eventsToUnbind.push(o),s.options.allowTraversingTree&&(s.eventsToUnbind.push(y(s,"click",s.onClickDrillToNode)),s.eventsToUnbind.push(y(s,"setRootNode",(function(e){let t=s.chart;t.breadcrumbs&&t.breadcrumbs.updateProperties(s.createList(e))}))),s.eventsToUnbind.push(y(s,"update",(function(e,t){let i=this.chart.breadcrumbs;i&&e.options.breadcrumbs&&i.update(e.options.breadcrumbs)}))),s.eventsToUnbind.push(y(s,"destroy",(function(e){let t=this.chart;t.breadcrumbs&&!e.keepEventsForUpdate&&(t.breadcrumbs.destroy(),t.breadcrumbs=void 0)})))),t.breadcrumbs||(t.breadcrumbs=new e(t,r)),s.eventsToUnbind.push(y(t.breadcrumbs,"up",(function(e){let t=this.level-e.newLevel;for(let i=0;i<t;i++)s.drillUp()})))}onClickDrillToNode(e){let t=e.point,i=t&&t.drillId;P(i)&&(t.setState(""),this.setRootNode(i,!0,{trigger:"click"}))}pointAttribs(e,t){let i,s=A(this.mapOptionsToLevel)?this.mapOptionsToLevel:{},r=e&&s[e.node.level]||{},o=this.options,l=t&&o.states&&o.states[t]||{},n=e&&e.getClassName()||"",a={stroke:e&&e.borderColor||r.borderColor||l.borderColor||o.borderColor,"stroke-width":O(e&&e.borderWidth,r.borderWidth,l.borderWidth,o.borderWidth),dashstyle:e&&e.borderDashStyle||r.borderDashStyle||l.borderDashStyle||o.borderDashStyle,fill:e&&e.color||this.color};return-1!==n.indexOf("highcharts-above-level")?(a.fill="none",a["stroke-width"]=0):-1!==n.indexOf("highcharts-internal-node-interactive")?(i=O(l.opacity,o.opacity),a.fill=c(a.fill).setOpacity(i).get(),a.cursor="pointer"):-1!==n.indexOf("highcharts-internal-node")?a.fill="none":t&&(a.fill=c(a.fill).brighten(l.brightness).get()),a}setColorRecursive(e,t,i,s,r){let o=this&&this.chart,l=o&&o.options&&o.options.colors;if(e){let o=v(e,{colors:l,index:s,mapOptionsToLevel:this.mapOptionsToLevel,parentColor:t,parentColorIndex:i,series:this,siblings:r}),n=this.points[e.i];n&&(n.color=o.color,n.colorIndex=o.colorIndex);let a=-1;for(let t of e.children||[])this.setColorRecursive(t,o.color,o.colorIndex,++a,e.children.length)}}setPointValues(){let e=this,{points:t,xAxis:i,yAxis:s}=e,r=e.chart.styledMode,o=t=>r?0:(e.pointAttribs(t)["stroke-width"]||0)%2/2;for(let l of t){let{pointValues:e,visible:t}=l.node;if(e&&t){let{height:t,width:r,x:n,y:a}=e,h=o(l),d=Math.round(i.toPixels(n,!0))-h,p=Math.round(i.toPixels(n+r,!0))-h,c=Math.round(s.toPixels(a,!0))-h,u=Math.round(s.toPixels(a+t,!0))-h,m={x:Math.min(d,p),y:Math.min(c,u),width:Math.abs(p-d),height:Math.abs(u-c)};l.plotX=m.x+m.width/2,l.plotY=m.y+m.height/2,l.shapeArgs=m}else delete l.plotX,delete l.plotY}}setRootNode(e,t,i){S(this,"setRootNode",B({newRootId:e,previousRootId:this.rootNode,redraw:O(t,!0),series:this},i),(function(e){let t=e.series;t.idPreviousRoot=e.previousRootId,t.rootNode=e.newRootId,t.isDirty=!0,e.redraw&&t.chart.redraw()}))}setState(e){this.options.inactiveOtherPoints=!0,super.setState(e,!1),this.options.inactiveOtherPoints=!1}setTreeValues(e){let t=this.options,i=this.rootNode,s=this.nodeMap[i],r="boolean"!=typeof t.levelIsConstant||t.levelIsConstant,o=[],l=this.points[e.i],n=0;for(let h of e.children)h=this.setTreeValues(h),o.push(h),h.ignore||(n+=h.val);R(o,((e,t)=>(e.sortIndex||0)-(t.sortIndex||0)));let a=O(l&&l.options.value,n);return l&&(l.value=a),B(e,{children:o,childrenTotal:n,ignore:!(O(l&&l.visible,!0)&&a>0),isLeaf:e.visible&&!n,levelDynamic:e.level-(r?0:s.level),name:O(l&&l.name,""),sortIndex:O(l&&l.sortIndex,-a),val:a}),e}sliceAndDice(e,t){return this.algorithmFill(!0,e,t)}squarified(e,t){return this.algorithmLowAspectRatio(!0,e,t)}strip(e,t){return this.algorithmLowAspectRatio(!1,e,t)}stripes(e,t){return this.algorithmFill(!1,e,t)}translate(){let e,t,i,s,r=this,o=r.options,l=x(r);super.translate();let n=r.tree=r.getTree();e=r.nodeMap[l],""===l||e&&e.children.length||(r.setRootNode("",!1),l=r.rootNode,e=r.nodeMap[l]),r.mapOptionsToLevel=f({from:e.level+1,levels:o.levels,to:n.height,defaults:{levelIsConstant:r.options.levelIsConstant,colorByPoint:o.colorByPoint}}),h.recursive(r.nodeMap[r.rootNode],(e=>{let t=e.parent,i=!1;return e.visible=!0,(t||""===t)&&(i=r.nodeMap[t]),i})),h.recursive(r.nodeMap[r.rootNode].children,(e=>{let t=!1;for(let i of e)i.visible=!0,i.children.length&&(t=(t||[]).concat(i.children));return t})),r.setTreeValues(n),r.axisRatio=r.xAxis.len/r.yAxis.len,r.nodeMap[""].pointValues=t={x:0,y:0,width:100,height:100},r.nodeMap[""].values=i=j(t,{width:t.width*r.axisRatio,direction:"vertical"===o.layoutStartingDirection?0:1,val:n.val}),r.calculateChildrenAreas(n,i),r.colorAxis||o.colorByPoint||r.setColorRecursive(r.tree),o.allowTraversingTree&&(s=e.pointValues,r.xAxis.setExtremes(s.x,s.x+s.width,!1),r.yAxis.setExtremes(s.y,s.y+s.height,!1),r.xAxis.setScale(),r.yAxis.setScale()),r.setPointValues()}}return U.defaultOptions=j(b.defaultOptions,a),B(U.prototype,{buildKDTree:m,colorAttribs:i.seriesMembers.colorAttribs,colorKey:"colorValue",directTouch:!0,getExtremesFromAll:!0,getSymbol:m,optionalAxis:"colorAxis",parallelArrays:["x","y","value","colorValue"],pointArrayMap:["value"],pointClass:n,NodeClass:l,trackerGroups:["group","dataLabelsGroup"],utils:h}),i.compose(U),r.registerSeriesType("treemap",U),U})),i(t,"masters/modules/treemap.src.js",[t["Core/Globals.js"],t["Extensions/Breadcrumbs/Breadcrumbs.js"],t["Series/Treemap/TreemapSeries.js"]],(function(e,t,i){return e.Breadcrumbs=e.Breadcrumbs||t,e.Breadcrumbs.compose(e.Chart,e.defaultOptions),i.compose(e.Series),e}))},e.exports?(o.default=o,e.exports=o):(s=[i(43488)],void 0===(r=function(e){return o(e),o.Highcharts=e,o}.apply(t,s))||(e.exports=r))}}]);
//# sourceMappingURL=7993.58300fec.chunk.js.map